<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    xmlns:app="http://schemas.android.com/apk/res-auto">
    <data>
        <import type="android.view.View"/>
        <variable
            name="viewModel"
            type="com.example.wifi_pentester.view_models.wifis.WifiListViewModel" />
    </data>
    <RelativeLayout
        android:layout_width = "match_parent"
        android:layout_height = "match_parent"
        tools:context = ".ui.wifi.WifiFragment">

        <androidx.recyclerview.widget.RecyclerView
            android:id = "@+id/wifi_recycler_view"
            android:layout_width = "match_parent"
            android:layout_height = "match_parent"

            android:visibility = "@{viewModel.wifiAvailable ? View.VISIBLE : View.GONE, default = gone}"
            android:layoutAnimation="@anim/layout_animation_fall_down"
            tools:listitem = "@layout/wifi_list_item"

            app:layoutManager = "androidx.recyclerview.widget.LinearLayoutManager"/>

        <com.google.android.material.button.MaterialButton
            android:id = "@+id/wifi_fragment_option_button"
            style = "@style/Widget.MaterialComponents.Button.OutlinedButton.Icon"
            android:visibility = "@{viewModel.wifiAvailable ? View.VISIBLE : View.GONE, default = visible}"
            android:layout_width = "45dp"
            android:layout_height = "55dp"
            android:layout_alignParentStart = "true"
            android:layout_alignParentBottom = "true"
            android:layout_marginStart = "20dp"
            android:layout_marginBottom = "19dp"

            app:cornerRadius = "50dp"
            app:icon = "@drawable/ic_settings"
            app:iconSize = "20dp"
            app:layout_constraintBottom_toBottomOf = "parent"
            app:layout_constraintEnd_toEndOf = "parent"
            app:layout_constraintStart_toStartOf = "parent"/>
       <!-- android:onClick="@{(view)->viewModel.showSettingsDialog()}"-->


        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width = "match_parent"
            android:layout_height = "match_parent"
            android:layout_alignBottom = "@id/wifi_recycler_view"
            android:visibility = "@{viewModel.wifiAvailable ? View.GONE : View.VISIBLE, default = visible}">

            <TextView
                android:id = "@+id/wifi_enabled_text"
                android:layout_width = "wrap_content"
                android:layout_height = "wrap_content"
                android:onClick = "@{(view) -> viewModel.enableWifi()}"
                android:text = "enableWifi"
                android:textSize = "22dp"
                android:visibility = "@{viewModel.wifiEnabled ? View.GONE : View.VISIBLE ,default = visible}"
                app:layout_constraintBottom_toTopOf = "@+id/permissions_gained_text"
                app:layout_constraintEnd_toEndOf = "parent"
                app:layout_constraintHorizontal_bias = "0.5"
                app:layout_constraintStart_toStartOf = "parent"
                app:layout_constraintTop_toTopOf = "parent"/>

            <TextView
                android:id = "@+id/permissions_gained_text"
                android:layout_width = "wrap_content"
                android:layout_height = "wrap_content"
                android:text = "requestPermissions"
                android:textSize = "22dp"
                android:visibility = "@{viewModel.wifiHavePermissions ? View.GONE : View.VISIBLE ,default = visible}"
                app:layout_constraintBottom_toTopOf = "@+id/location_enabled_text"
                app:layout_constraintEnd_toEndOf = "parent"
                app:layout_constraintHorizontal_bias = "0.5"
                app:layout_constraintStart_toStartOf = "parent"
                app:layout_constraintTop_toBottomOf = "@id/wifi_enabled_text"/>

            <TextView
                android:id = "@+id/location_enabled_text"
                android:layout_width = "230dp"
                android:layout_height = "39dp"

                android:onClick = "@{(view) -> viewModel.showLocationRequest()}"
                android:text = "requestEnableLocation"
                android:textSize = "22dp"
                android:visibility = "@{viewModel.locationEnabled ? View.GONE : View.VISIBLE ,default = visible}"
                app:layout_constraintBottom_toBottomOf = "parent"
                app:layout_constraintEnd_toEndOf = "parent"
                app:layout_constraintHorizontal_bias = "0.5"
                app:layout_constraintStart_toStartOf = "parent"
                app:layout_constraintTop_toBottomOf = "@+id/permissions_gained_text"
                app:layout_constraintVertical_bias = "0.665"/>


        </androidx.constraintlayout.widget.ConstraintLayout>

    </RelativeLayout>
</layout>
