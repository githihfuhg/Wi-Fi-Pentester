package com.example.wfc_models.shell

import com.example.wfc_models.dependencies.binary_dependencies.dtos.BinaryDependency
import com.example.wfc_models.shell.root_logic.Shell.Command.Result
import com.example.wfc_models.shell.dtos.ShellSettings
import kotlinx.coroutines.flow.Flow

interface IShellService {
    suspend fun executeCommand(
        command: String,
        settings: ShellSettings,
        onStdOutLineListener: ((result: String) -> Unit)? = null
    ): Result

    suspend fun executeCommandFlow(
        command: String,
        settings: ShellSettings
    ): Flow<String>

    suspend fun executeCommand(
        command: String,
        settings: ShellSettings,
        binaryDependency: BinaryDependency,
        onStdOutLineListener: ((result: String) -> Unit)? = null
    ): Result

    suspend fun executeCommandFlow(
        command: String,
        settings: ShellSettings,
        binaryDependency: BinaryDependency,
    ): Flow<String>
}