package com.example.wfc_models.wifi.scanners.dtos

import android.os.Parcelable
import com.example.wfc_models.wifi.converters.WifiConverter
import kotlinx.parcelize.Parcelize
import kotlin.math.abs
import kotlin.math.log10
import kotlin.math.pow

@Parcelize
data class Wifi(
    val name: String,
    val mac: String,
    val signalLevel: Int,
    val isConnected: Boolean,
    val frequency: Int,
    val channel: Int,
    val hasWps: Boolean,
    val encryptionType: EncryptionType,
    val vendorName: String,
) : Parcelable {
    val distance: Double
        get() {
            val exp = (27.55 - 20 * log10(frequency.toDouble()) + abs(signalLevel)) / 20.0
            return 10.0.pow(exp)
        }

    val frequencyType = WifiConverter.convertFrequencyToFrequencyType(frequency)
}